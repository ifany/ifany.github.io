{"version":3,"sources":["lib/prettyBytes.js","lib/scrollIntoView.js","data/igetcool/courses lazy /^/.//.*/.json$/ groupOptions: {} namespace object","utils/event.js","utils/localStore.js","configs/theme.js","configs/env.js","hooks/useSecret.js","hooks/useQuery.js","hooks/useDocumentTitle.js","components/TitleBar/ThemeToggler.jsx","components/TitleBar/TitleBar.jsx","components/SectionSelect.jsx","configs/pbr.js","components/PlaybackRateSwitch.jsx","components/Loading.jsx","configs/courses/env.js","components/GlobalStateProvider.jsx","components/CourseSearch.jsx","hooks/useCourseSection.js","hooks/useCourseKeyword.js","routes/HomePage.jsx","configs/courses/igetcool.js","routes/igetcool/index/CourseList/CourseCard.jsx","routes/igetcool/index/CourseList/CourseList.jsx","routes/igetcool/index/IndexPage.jsx","routes/igetcool/detail/Heading.jsx","routes/igetcool/detail/SectionList/Section/AudioCard.jsx","routes/igetcool/detail/SectionList/Section/Section.jsx","routes/igetcool/detail/SectionList/SectionList.jsx","routes/igetcool/detail/DetailPage.jsx","App.jsx","hooks/useTheme.js","index.jsx","lib/index.js","lib/dateFormat.js","lib/delay.js","lib/entity.js","lib/marked.js","lib/moment.js"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","t","keys","Object","module","exports","EE","EventEmitter","localStore","key","JSON","parse","localStorage","getItem","err","value","setItem","stringify","THEME_TYPE_STORED_KEY","getThemeConfig","type","palette","primary","main","orange","grey","light","dark","contrastText","secondary","background","default","contrastThreshold","tonalOffset","IGETCOOL_DEFAULT_TITLE","useSecret","knowSecret","URLSearchParams","useLocation","search","has","require","useRef","useEffect","useDocumentTitle","title","retainOnUnmount","defaultTitle","document","current","ThemeToggler","theme","useTheme","IconButton","edge","color","onClick","emit","useStyles","makeStyles","toolbar","paddingLeft","spacing","paddingRight","flexGrow","marginLeft","section","marginRight","pbr","mainTitle","typography","fontWeightBold","fontSize","subTitle","verticalAlign","offset","mixins","TitleBar","course","actions","goBack","classes","trigger","useScrollTrigger","disableHysteresis","threshold","revealCourseBrief","AppBar","position","elevation","Toolbar","variant","className","disableRipple","Boolean","Typography","display","noWrap","text","minWidth","maxWidth","overflow","whiteSpace","textOverflow","pxToRem","fontWeight","icon","SectionSelect","sectionEntityList","drawerRef","useState","open","setOpen","useCourseSection","sectionList","selectedSectionId","updateSelectedSectionId","useUpdateEffect","selectedListItem","querySelector","scrollIntoView","scrollMode","block","inline","behavior","listItems","useMemo","List","component","selected","sectionPid","ListItem","button","classNames","window","scrollTo","ListItemText","sectionTitle","ListItemIcon","Badge","badgeContent","Drawer","ref","anchor","keepMounted","onClose","playbackRateCollection","createEntityCollection","x","String","DEFAULT_PLAYBACK_RATE","entities","PLAYBACK_RATE_STORED_KEY","pbrEntites","PlaybackRateSwitch","useGlobalState","globalState","dispathAction","updatePlaybackRate","useCallback","playbackRate","payload","playbackRateEntityList","convertToEntityList","subheader","ListSubheader","useMount","list","includes","Number","loading","Loading","CircularProgress","SELECTED_SECTION_ID_MAP_STORED_KEY","COURSE_KEYWORD_MAP_STORED_KEY","globalReducer","state","action","courseId","sectionId","selectedSectionIdMap","playingMediaId","platform","keyword","trim","courseKeywordMap","GlobalStateContext","createContext","intialState","useContext","GlobalStateProvider","children","Provider","useReducer","appBar","flex","clear","okay","input","marginTop","courseTitle","Transition","forwardRef","props","Slide","direction","CourseSearch","courseCollection","history","useHistory","useCourseKeyword","courseKeyword","updateCourseKeyword","getCourseEntityList","setKeyword","courseEntityList","handleClickOpen","handleClose","handleClear","handleOkay","Dialog","fullScreen","TransitionComponent","Button","Container","TextField","label","onChange","evt","target","fullWidth","autoFocus","length","brief","push","find","entityList","sort","a","b","localeCompare","filter","container","left","top","transform","content","padding","HomePage","Card","CardContent","courseList","media","minHeight","maxHeight","height","lineClamp","boxOrient","CourseCard","imgRef","useEffectOnce","io","IntersectionObserver","entry","isIntersecting","src","poster","unobserve","disconnect","rootMargin","observe","CardActionArea","CardMedia","image","referrerPolicy","root","paddingTop","paddingBottom","noResult","textAlign","CourseList","Grid","alignItems","item","xs","sm","md","actionIcon","pageScrollTop","IndexPage","y","useWindowScroll","documentElement","scrollTop","heading","Heading","header","buffer","transition","opacity","progress","duration","right","AudioCard","audio","rootRef","playStatus","setPlayStatus","finished","setFinished","byteLoaded","setBytesLoaded","bytesTotal","setBytesTotal","waitBuffer","setWaitBuffer","setPosition","audioDuration","setDuration","bufferPercent","progressPercent","remainDuration","remain","moment","Math","max","parts","minutes","seconds","hours","unshift","padStart","join","updatePosition","notifyPlayAudio","audioPid","notifyPauseAudio","playNextAudio","on","off","doFastRewind","newProgressPercent","doFastForward","min","square","Divider","style","width","CardHeader","Link","href","audioArticleUrl","rel","size","audioTitle","CardActions","disableShrink","url","audioUrl","autoLoad","loop","onLoading","info","bytesLoaded","onPlaying","onFinishedPlaying","onError","errorCode","description","console","log","summary","margin","borderLeft","details","Section","Accordion","expanded","AccordionSummary","AccordionDetails","SectionList","soundManager","setup","ignoreMobileRestrictions","useUnmount","filteredSectionList","audioList","flat","replyNextPlayingMediaId","currentIndex","findIndex","nextPlayingMediaId","courseEntities","DetailPage","useParams","tryCountRef","fetchStatus","setFetchStatus","setSectionList","fetchSectionList","delay","total","entity","to","replace","App","themeConfig","setTheme","toggleTheme","nextType","createMuiTheme","ThemeProvider","CssBaseline","strict","exact","path","ReactDOM","render","getElementById","ms","setTimeout","keySelector","reduce","ret","collection"],"mappings":"8FAAA,Q,iCCAA,kD,kjeCAA,IAAIA,EAAM,CACT,4BAA6B,CAC5B,IACA,GAED,4BAA6B,CAC5B,IACA,GAED,4BAA6B,CAC5B,IACA,GAED,4BAA6B,CAC5B,IACA,GAED,4BAA6B,CAC5B,IACA,GAED,4BAA6B,CAC5B,IACA,GAED,4BAA6B,CAC5B,IACA,GAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,4BAA6B,CAC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","file":"static/js/main.f4b7b516.chunk.js","sourcesContent":["import prettyBytes from 'pretty-bytes';\n\nexport { prettyBytes };\n","import scrollIntoView from 'smooth-scroll-into-view-if-needed';\n\nexport { scrollIntoView };\n","var map = {\n\t\"./176423533646319616.json\": [\n\t\t168,\n\t\t3\n\t],\n\t\"./181235131766411264.json\": [\n\t\t169,\n\t\t4\n\t],\n\t\"./183819552214355968.json\": [\n\t\t170,\n\t\t5\n\t],\n\t\"./188680641334874112.json\": [\n\t\t171,\n\t\t6\n\t],\n\t\"./206128547383123968.json\": [\n\t\t172,\n\t\t7\n\t],\n\t\"./208305308846190592.json\": [\n\t\t173,\n\t\t8\n\t],\n\t\"./210892333445214208.json\": [\n\t\t174,\n\t\t9\n\t],\n\t\"./214490902362255360.json\": [\n\t\t175,\n\t\t10\n\t],\n\t\"./223214854534270976.json\": [\n\t\t176,\n\t\t11\n\t],\n\t\"./236279643171569664.json\": [\n\t\t177,\n\t\t12\n\t],\n\t\"./282625240670081024.json\": [\n\t\t178,\n\t\t13\n\t],\n\t\"./290274831368900608.json\": [\n\t\t179,\n\t\t14\n\t],\n\t\"./292748548695281664.json\": [\n\t\t180,\n\t\t15\n\t],\n\t\"./295339694592249856.json\": [\n\t\t181,\n\t\t16\n\t],\n\t\"./302982230488526848.json\": [\n\t\t182,\n\t\t17\n\t],\n\t\"./305093985226403840.json\": [\n\t\t183,\n\t\t18\n\t],\n\t\"./319559711044362240.json\": [\n\t\t184,\n\t\t19\n\t],\n\t\"./319588578853347328.json\": [\n\t\t185,\n\t\t20\n\t],\n\t\"./322111770419589120.json\": [\n\t\t186,\n\t\t21\n\t],\n\t\"./326142015347200000.json\": [\n\t\t187,\n\t\t22\n\t],\n\t\"./331156155292028928.json\": [\n\t\t188,\n\t\t23\n\t],\n\t\"./335500089611046912.json\": [\n\t\t189,\n\t\t24\n\t],\n\t\"./338472951578107904.json\": [\n\t\t190,\n\t\t25\n\t],\n\t\"./352612208501628928.json\": [\n\t\t191,\n\t\t26\n\t],\n\t\"./368520539818737664.json\": [\n\t\t192,\n\t\t27\n\t],\n\t\"./371056168972636160.json\": [\n\t\t193,\n\t\t28\n\t],\n\t\"./371142715218644992.json\": [\n\t\t194,\n\t\t29\n\t],\n\t\"./376466282274177024.json\": [\n\t\t195,\n\t\t30\n\t],\n\t\"./378278450510487552.json\": [\n\t\t196,\n\t\t31\n\t],\n\t\"./381546836451762176.json\": [\n\t\t197,\n\t\t32\n\t],\n\t\"./383710419831214080.json\": [\n\t\t198,\n\t\t33\n\t],\n\t\"./397232607550087168.json\": [\n\t\t199,\n\t\t34\n\t],\n\t\"./398995416155873280.json\": [\n\t\t200,\n\t\t35\n\t],\n\t\"./403323319832698880.json\": [\n\t\t201,\n\t\t36\n\t],\n\t\"./408773887233916928.json\": [\n\t\t202,\n\t\t37\n\t],\n\t\"./411004649526345728.json\": [\n\t\t203,\n\t\t38\n\t],\n\t\"./417403368913125376.json\": [\n\t\t204,\n\t\t39\n\t],\n\t\"./418887353703796736.json\": [\n\t\t205,\n\t\t40\n\t],\n\t\"./424044702094086144.json\": [\n\t\t206,\n\t\t41\n\t],\n\t\"./442518939358134272.json\": [\n\t\t207,\n\t\t42\n\t],\n\t\"./443939318769590272.json\": [\n\t\t208,\n\t\t43\n\t],\n\t\"./447168432955883520.json\": [\n\t\t209,\n\t\t44\n\t],\n\t\"./450117378976436224.json\": [\n\t\t210,\n\t\t45\n\t],\n\t\"./456977259612758016.json\": [\n\t\t211,\n\t\t46\n\t],\n\t\"./459089087927304192.json\": [\n\t\t212,\n\t\t47\n\t],\n\t\"./469643493636464640.json\": [\n\t\t213,\n\t\t48\n\t],\n\t\"./472172511087153152.json\": [\n\t\t214,\n\t\t49\n\t],\n\t\"./475460863765692416.json\": [\n\t\t215,\n\t\t50\n\t],\n\t\"./477648148129292288.json\": [\n\t\t216,\n\t\t51\n\t],\n\t\"./485553383318794240.json\": [\n\t\t217,\n\t\t52\n\t],\n\t\"./489615215248359424.json\": [\n\t\t218,\n\t\t53\n\t],\n\t\"./497656625076858880.json\": [\n\t\t219,\n\t\t54\n\t],\n\t\"./498581937004724224.json\": [\n\t\t220,\n\t\t55\n\t],\n\t\"./502990165429628928.json\": [\n\t\t221,\n\t\t56\n\t],\n\t\"./510952772904165376.json\": [\n\t\t222,\n\t\t57\n\t],\n\t\"./512442237434728448.json\": [\n\t\t223,\n\t\t58\n\t],\n\t\"./530927929063550976.json\": [\n\t\t224,\n\t\t59\n\t],\n\t\"./531637381991399424.json\": [\n\t\t225,\n\t\t60\n\t],\n\t\"./543651140880760832.json\": [\n\t\t226,\n\t\t61\n\t],\n\t\"./553412702007726080.json\": [\n\t\t227,\n\t\t62\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 163;\nmodule.exports = webpackAsyncContext;","import EventEmitter from 'eventemitter3';\n\nexport { EventEmitter };\nexport const EE = new EventEmitter();\n","export const localStore = {\n  /**\n   * @param {string} key\n   */\n  get(key) {\n    try {\n      return JSON.parse(localStorage.getItem(key));\n    } catch (err) {\n      return undefined;\n    }\n  },\n\n  /**\n   * @param {string} key\n   * @param {any} value\n   */\n  set(key, value) {\n    try {\n      localStorage.setItem(key, JSON.stringify(value));\n      return true;\n    } catch (err) {\n      return false;\n    }\n  },\n\n  /**\n   * @param {string} key\n   */\n  del(key) {\n    try {\n      localStorage.removeItem(key);\n      return true;\n    } catch (err) {\n      return false;\n    }\n  },\n\n  isSupport() {\n    try {\n      const whatever = 'whatever';\n      localStorage.setItem(whatever, whatever);\n      localStorage.removeItem(whatever);\n      return true;\n    } catch (err) {\n      return false;\n    }\n  },\n};\n","import { orange, grey } from '@material-ui/core/colors';\n\n/** `localStorage` key */\nexport const THEME_TYPE_STORED_KEY = 'yuer-theme';\n\nexport const getThemeConfig = (/** @type {import('@material-ui/core').PaletteType} */ type) => {\n  return /** @type {import('@material-ui/core/styles').ThemeOptions} */ ({\n    palette: {\n      type,\n      primary: {\n        main: type === 'light' ? orange['A700'] : grey['900'],\n        light: orange['A700'],\n        dark: grey['900'],\n        contrastText: '#fff',\n      },\n      secondary: {\n        main: type === 'light' ? orange['A400'] : 'rgba(255, 255, 255, 0.7)',\n        light: orange['A400'],\n        dark: 'rgba(255, 255, 255, 0.7)',\n        contrastText: '#000',\n      },\n      background: {\n        default: type === 'light' ? grey['300'] : grey['700'],\n      },\n      contrastThreshold: 3,\n      tonalOffset: 0.2,\n    },\n  });\n};\n","export const IGETCOOL_DEFAULT_TITLE = '少年得到';\n\n/**\n * 不可见字符\n */\nexport const SECRET_QUERY_PARAM = '‎';\n","import { useQuery } from '@src/hooks';\nimport { SECRET_QUERY_PARAM } from '@src/configs/env';\n\nexport function useSecret() {\n  const query = useQuery();\n  return { knowSecret: query.has(SECRET_QUERY_PARAM) };\n}\n","import { useLocation } from 'react-router-dom';\n\nexport function useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n","const { useRef, useEffect } = require('react');\n\n/**\n * @param {string} title 文档标题\n * @param {boolean} [retainOnUnmount] 页面卸载后保留标题？\n */\nexport function useDocumentTitle(title, retainOnUnmount = false) {\n  const defaultTitle = useRef(document.title);\n\n  useEffect(() => {\n    document.title = title;\n  }, [title]);\n\n  useEffect(() => {\n    const title = defaultTitle.current;\n    return () => {\n      if (!retainOnUnmount) {\n        document.title = title;\n      }\n    };\n  }, [retainOnUnmount]);\n}\n","import { useTheme } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport { EE } from '@src/utils';\n\nexport function ThemeToggler() {\n  const theme = useTheme();\n\n  return (\n    <IconButton\n      edge=\"start\"\n      color=\"inherit\"\n      onClick={() => {\n        EE.emit('toggle-theme');\n      }}\n    >\n      {theme.palette.type === 'light' ? <Brightness4Icon /> : <Brightness7Icon />}\n    </IconButton>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport AppsIcon from '@material-ui/icons/Apps';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport { useSecret } from '@src/hooks';\nimport { ThemeToggler } from './ThemeToggler';\n\nconst useStyles = makeStyles(theme => ({\n  toolbar: {\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n  },\n  title: {\n    flexGrow: 1,\n    marginLeft: theme.spacing(1),\n  },\n  section: {\n    marginRight: theme.spacing(2),\n  },\n  pbr: {\n    marginRight: theme.spacing(2),\n  },\n\n  mainTitle: {\n    'fontWeight': theme.typography.fontWeightBold,\n    '& > sup': {\n      fontSize: '80%',\n    },\n  },\n  subTitle: {\n    verticalAlign: 'top',\n  },\n  offset: theme.mixins.toolbar,\n}));\n\n/**\n * @param {object} props\n * @param {string} props.title 标题\n * @param {CourseEntity} [props.course] 课程对象\n * @param {React.ReactNode} [props.actions] 可选操作\n * @param {() => void} [props.goBack] 返回回调函数\n */\nexport function TitleBar({ title, course, actions, goBack }) {\n  const classes = useStyles();\n  const { knowSecret } = useSecret();\n\n  const trigger = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 0,\n  });\n\n  const revealCourseBrief = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 80,\n  });\n\n  return (\n    <>\n      <AppBar position=\"fixed\" elevation={trigger ? 4 : 0}>\n        <Toolbar variant=\"regular\" className={classes.toolbar}>\n          {!goBack && (\n            <IconButton color=\"inherit\" disableRipple>\n              <AppsIcon />\n            </IconButton>\n          )}\n          {Boolean(goBack && knowSecret) && (\n            <IconButton color=\"inherit\" onClick={goBack}>\n              <ArrowBackIcon />\n            </IconButton>\n          )}\n          <Typography variant=\"inherit\" display=\"block\" noWrap className={classes.title}>\n            <Typography variant=\"h6\" color=\"inherit\" className={classes.mainTitle}>\n              {title}\n            </Typography>\n            {Boolean(revealCourseBrief && course) && (\n              <Typography variant={'caption'} color=\"inherit\" className={classes.subTitle}>\n                {course.title}\n              </Typography>\n            )}\n          </Typography>\n\n          {/* 操作相关的图标 */}\n          {actions}\n\n          <ThemeToggler />\n        </Toolbar>\n      </AppBar>\n\n      {/* @see https://material-ui.com/components/app-bar/#fixed-placement */}\n      <div className={classes.offset} />\n    </>\n  );\n}\n","import { useMemo, useState, useRef } from 'react';\nimport { useUpdateEffect } from 'react-use';\nimport classNames from 'classnames';\nimport { useTheme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Badge from '@material-ui/core/Badge';\nimport IconButton from '@material-ui/core/IconButton';\nimport ViewListIcon from '@material-ui/icons/ViewList';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { useCourseSection } from '@src/hooks';\nimport { scrollIntoView } from '@src/lib';\n\nconst useStyles = makeStyles(theme => ({\n  text: {\n    minWidth: 230,\n    maxWidth: 260,\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    fontSize: theme.typography.pxToRem(14),\n    fontWeight: theme.typography.fontWeightBold,\n  },\n  icon: {\n    minWidth: 'auto',\n  },\n}));\n\n/**\n * @param {object} props\n * @param {CourseEntity} props.course\n * @param {SectionEntity[]} props.sectionEntityList\n */\nexport function SectionSelect({ course, sectionEntityList }) {\n  const theme = useTheme();\n  const classes = useStyles();\n  const drawerRef = useRef(/** @type {HTMLElement} */ (null));\n\n  const [open, setOpen] = useState(false);\n  const { selectedSectionId, updateSelectedSectionId } = useCourseSection({\n    course,\n    sectionList: sectionEntityList,\n  });\n\n  useUpdateEffect(() => {\n    if (open && drawerRef.current) {\n      const selectedListItem = drawerRef.current.querySelector('.selected');\n\n      if (selectedListItem) {\n        scrollIntoView(selectedListItem, {\n          scrollMode: 'if-needed',\n          block: 'start',\n          inline: 'start',\n          behavior: 'smooth',\n        });\n      }\n    }\n  }, [open]);\n\n  const listItems = useMemo(() => {\n    return (\n      <List component=\"div\">\n        {sectionEntityList.map(section => {\n          const selected = section.sectionPid === selectedSectionId;\n\n          return (\n            <ListItem\n              key={section.sectionPid}\n              button\n              selected={selected}\n              className={classNames({ selected })}\n              onClick={() => {\n                updateSelectedSectionId(section.sectionPid);\n                setOpen(false);\n\n                if (section.sectionPid !== selectedSectionId) {\n                  window.scrollTo(0, 0);\n                }\n              }}\n            >\n              <ListItemText\n                primary={\n                  <Typography\n                    className={classes.text}\n                    color={\n                      selected\n                        ? theme.palette.type === 'light'\n                          ? 'primary'\n                          : 'textPrimary'\n                        : theme.palette.type === 'light'\n                        ? 'inherit'\n                        : 'textSecondary'\n                    }\n                  >\n                    {section.sectionTitle}\n                  </Typography>\n                }\n              />\n              <ListItemIcon className={classes.icon}>\n                <CheckCircleIcon\n                  color={\n                    selected ? (theme.palette.type === 'light' ? 'primary' : 'inherit') : 'disabled'\n                  }\n                />\n              </ListItemIcon>\n            </ListItem>\n          );\n        })}\n      </List>\n    );\n  }, [\n    theme,\n    classes.text,\n    classes.icon,\n    sectionEntityList,\n    selectedSectionId,\n    updateSelectedSectionId,\n  ]);\n\n  return (\n    <>\n      <IconButton\n        edge=\"start\"\n        color=\"inherit\"\n        onClick={() => {\n          setOpen(true);\n        }}\n      >\n        <Badge badgeContent={selectedSectionId === 'all' ? null : '✓'} color=\"primary\">\n          <ViewListIcon />\n        </Badge>\n      </IconButton>\n      <Drawer\n        ref={drawerRef}\n        anchor=\"left\"\n        variant=\"temporary\"\n        open={open}\n        keepMounted\n        onClose={() => setOpen(false)}\n      >\n        {listItems}\n      </Drawer>\n    </>\n  );\n}\n","import { createEntityCollection } from '@src/lib';\n\nexport const playbackRateCollection = createEntityCollection(\n  [\n    { text: '0.75x', value: 0.75 },\n    { text: '正常倍速', value: 1 },\n    { text: '1.25x', value: 1.25 },\n    { text: '1.5x', value: 1.5 },\n    { text: '2.0x', value: 2 },\n    { text: '2.5x', value: 2.5 },\n    { text: '3.0x', value: 3 },\n  ],\n  x => String(x.value),\n);\n\nexport const DEFAULT_PLAYBACK_RATE = playbackRateCollection.entities[1].value;\n\n/** `localStorage` key */\nexport const PLAYBACK_RATE_STORED_KEY = 'yuer-pbr';\n","import { useCallback, useMemo, useState } from 'react';\nimport { useMount } from 'react-use';\nimport { useTheme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Badge from '@material-ui/core/Badge';\nimport IconButton from '@material-ui/core/IconButton';\nimport SlowMotionVideoIcon from '@material-ui/icons/SlowMotionVideo';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { convertToEntityList } from '@src/lib';\nimport {\n  playbackRateCollection,\n  DEFAULT_PLAYBACK_RATE,\n  PLAYBACK_RATE_STORED_KEY,\n} from '@src/configs/pbr';\nimport { useGlobalState } from '@src/components';\nimport { localStore } from '@src/utils';\n\nconst { entities: pbrEntites } = playbackRateCollection;\n\nconst useStyles = makeStyles(() => ({\n  icon: {\n    minWidth: 'auto',\n  },\n}));\n\nexport function PlaybackRateSwitch() {\n  const theme = useTheme();\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(false);\n  const [globalState, dispathAction] = useGlobalState();\n\n  const updatePlaybackRate = useCallback(\n    (/** @type {number} */ playbackRate) => {\n      dispathAction({\n        type: 'updatePlaybackRate',\n        payload: { value: playbackRate },\n      });\n    },\n    [dispathAction],\n  );\n\n  const listItems = useMemo(() => {\n    const playbackRateEntityList = convertToEntityList(playbackRateCollection);\n\n    return (\n      <List\n        component=\"div\"\n        subheader={<ListSubheader component=\"div\">{'音频播放倍速'}</ListSubheader>}\n      >\n        {playbackRateEntityList.map(pbr => {\n          const selected = pbr.value === globalState.playbackRate;\n\n          return (\n            <ListItem\n              key={pbr.value}\n              button\n              selected={selected}\n              onClick={() => {\n                updatePlaybackRate(pbr.value);\n                setOpen(false);\n              }}\n            >\n              <ListItemText\n                primary={\n                  <Typography\n                    color={\n                      selected\n                        ? theme.palette.type === 'light'\n                          ? 'primary'\n                          : 'textPrimary'\n                        : theme.palette.type === 'light'\n                        ? 'inherit'\n                        : 'textSecondary'\n                    }\n                  >\n                    {pbr.text}\n                  </Typography>\n                }\n              />\n              <ListItemIcon className={classes.icon}>\n                <CheckCircleIcon\n                  color={\n                    selected ? (theme.palette.type === 'light' ? 'primary' : 'inherit') : 'disabled'\n                  }\n                />\n              </ListItemIcon>\n            </ListItem>\n          );\n        })}\n      </List>\n    );\n  }, [theme, classes.icon, globalState, updatePlaybackRate]);\n\n  useMount(() => {\n    // init `playbackRate`\n    let playbackRate = localStore.get(PLAYBACK_RATE_STORED_KEY);\n    if (!playbackRateCollection.list.includes(String(playbackRate))) {\n      playbackRate = DEFAULT_PLAYBACK_RATE;\n    }\n    updatePlaybackRate(Number(playbackRate));\n  });\n\n  return (\n    <>\n      <IconButton\n        edge=\"start\"\n        color=\"inherit\"\n        onClick={() => {\n          setOpen(true);\n        }}\n      >\n        <Badge\n          badgeContent={\n            pbrEntites[globalState.playbackRate].value === 1\n              ? null\n              : pbrEntites[globalState.playbackRate].text\n          }\n          color=\"primary\"\n        >\n          <SlowMotionVideoIcon />\n        </Badge>\n      </IconButton>\n      <Drawer anchor=\"bottom\" variant=\"temporary\" open={open} onClose={() => setOpen(false)}>\n        {listItems}\n      </Drawer>\n    </>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles(theme => ({\n  loading: {\n    'display': 'flex',\n    'justify-content': 'center',\n    'margin': '100px 0',\n  },\n}));\n\nexport function Loading() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.loading}>\n      <CircularProgress color={'secondary'} />\n    </div>\n  );\n}\n","/** `localStorage` key */\nexport const SELECTED_SECTION_ID_MAP_STORED_KEY = 'yuer-ssim';\n\n/** `localStorage` key */\nexport const COURSE_KEYWORD_MAP_STORED_KEY = 'yuer-ckm';\n","import React, { createContext, useReducer, useContext } from 'react';\nimport { localStore } from '@src/utils';\nimport { DEFAULT_PLAYBACK_RATE, PLAYBACK_RATE_STORED_KEY } from '@src/configs/pbr';\nimport {\n  COURSE_KEYWORD_MAP_STORED_KEY,\n  SELECTED_SECTION_ID_MAP_STORED_KEY,\n} from '@src/configs/courses/env';\n\n/**\n * @param {GlobalState} state\n * @param {GlobalAction} action\n * @returns {GlobalState}\n */\nconst globalReducer = (state, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case 'updatePlaybackRate': {\n      const playbackRate = payload['value'];\n      localStore.set(PLAYBACK_RATE_STORED_KEY, playbackRate);\n      return { ...state, playbackRate };\n    }\n\n    case 'updateSelectedSectionId': {\n      const courseId = payload['courseId'];\n      const sectionId = payload['sectionId'];\n      const selectedSectionIdMap = { ...state.selectedSectionIdMap };\n\n      if (sectionId !== 'all') {\n        selectedSectionIdMap[courseId] = sectionId;\n      } else {\n        delete selectedSectionIdMap[courseId];\n      }\n\n      localStore.set(SELECTED_SECTION_ID_MAP_STORED_KEY, selectedSectionIdMap);\n      return { ...state, selectedSectionIdMap };\n    }\n\n    case 'switchPlayingMediaId': {\n      return { ...state, playingMediaId: payload['id'] || null };\n    }\n\n    case 'updateCourseKeyword': {\n      const platform = payload['platform'];\n      const keyword = String(payload['keyword']).trim();\n      const courseKeywordMap = { ...state.courseKeywordMap };\n\n      if (keyword) {\n        courseKeywordMap[platform] = keyword;\n      } else {\n        delete courseKeywordMap[platform];\n      }\n\n      localStore.set(COURSE_KEYWORD_MAP_STORED_KEY, courseKeywordMap);\n      return { ...state, courseKeywordMap };\n    }\n\n    default:\n      return state;\n  }\n};\n\nconst GlobalStateContext = createContext(null);\n\n/** @type {GlobalState} */\nconst intialState = {\n  playbackRate: DEFAULT_PLAYBACK_RATE,\n  selectedSectionIdMap: (() => {\n    return localStore.get(SELECTED_SECTION_ID_MAP_STORED_KEY) || {};\n  })(),\n  playingMediaId: null,\n  courseKeywordMap: (() => {\n    return localStore.get(COURSE_KEYWORD_MAP_STORED_KEY) || {};\n  })(),\n};\n\n/**\n * @type {() => [GlobalState, React.Dispatch<GlobalAction>]}\n */\nexport const useGlobalState = () => useContext(GlobalStateContext);\n\nexport function GlobalStateProvider({ children }) {\n  return (\n    <GlobalStateContext.Provider value={useReducer(globalReducer, intialState)}>\n      {children}\n    </GlobalStateContext.Provider>\n  );\n}\n","import { forwardRef, useState, useCallback, useMemo } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Badge from '@material-ui/core/Badge';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Slide from '@material-ui/core/Slide';\nimport Container from '@material-ui/core/Container';\nimport TextField from '@material-ui/core/TextField';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport { useCourseKeyword } from '@src/hooks';\nimport { SECRET_QUERY_PARAM } from '@src/configs/env';\n\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    position: 'fixed',\n  },\n  title: {\n    fontWeight: theme.typography.fontWeightBold,\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n  clear: {\n    fontSize: theme.typography.pxToRem(16),\n    fontWeight: theme.typography.fontWeightBold,\n  },\n  okay: {\n    fontSize: theme.typography.pxToRem(16),\n    fontWeight: theme.typography.fontWeightBold,\n  },\n  input: {\n    marginTop: theme.spacing(1),\n  },\n  courseTitle: {\n    fontWeight: theme.typography.fontWeightBold,\n  },\n  offset: theme.mixins.toolbar,\n}));\n\n// @ts-ignore\nconst Transition = forwardRef((props, ref) => <Slide direction=\"up\" ref={ref} {...props} />);\n\n/**\n * @param {object} props\n * @param {'igetcool' | 'vistopia'} props.platform\n * @param {EntityCollection<CourseEntity>} props.courseCollection\n */\nexport function CourseSearch({ platform, courseCollection }) {\n  const history = useHistory();\n  const classes = useStyles();\n  const { courseKeyword, updateCourseKeyword, getCourseEntityList } = useCourseKeyword({\n    platform,\n    courseCollection,\n  });\n\n  const [open, setOpen] = useState(false);\n  const [keyword, setKeyword] = useState(courseKeyword);\n\n  const courseEntityList = useMemo(() => getCourseEntityList(keyword), [\n    keyword,\n    getCourseEntityList,\n  ]);\n\n  const handleClickOpen = useCallback(() => setOpen(true), []);\n  const handleClose = useCallback(() => setOpen(false), []);\n  const handleClear = useCallback(() => setKeyword(''), []);\n\n  const handleOkay = useCallback(() => {\n    updateCourseKeyword(keyword);\n    setOpen(false);\n  }, [keyword, updateCourseKeyword]);\n\n  return (\n    <>\n      <IconButton edge=\"start\" color=\"inherit\" onClick={handleClickOpen}>\n        <Badge badgeContent={!courseKeyword ? null : '✓'} color=\"primary\">\n          <SearchIcon />\n        </Badge>\n      </IconButton>\n      <Dialog\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        // @ts-ignore\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose}>\n              <CloseIcon />\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n              {'搜索课程'}\n            </Typography>\n            <Button color=\"inherit\" variant=\"text\" className={classes.clear} onClick={handleClear}>\n              {'清空'}\n            </Button>\n            <Button color=\"inherit\" variant=\"text\" className={classes.okay} onClick={handleOkay}>\n              {'确定'}\n            </Button>\n          </Toolbar>\n        </AppBar>\n\n        {/* @see https://material-ui.com/components/app-bar/#fixed-placement */}\n        <div className={classes.offset} />\n\n        <Container>\n          <TextField\n            label=\"关键词\"\n            value={keyword}\n            onChange={evt => setKeyword(evt.target.value)}\n            color=\"secondary\"\n            fullWidth\n            autoFocus\n            className={classes.input}\n          />\n          <List>\n            {courseEntityList.length === 0 && (\n              <ListItem>\n                <ListItemText secondary={'未搜索到课程'} />\n              </ListItem>\n            )}\n\n            {courseEntityList.length > 0 &&\n              courseEntityList.map(course => (\n                <ListItem key={course.id} button>\n                  <ListItemText\n                    primary={\n                      <Typography className={classes.courseTitle}>{course.title}</Typography>\n                    }\n                    secondary={course.brief}\n                    onClick={() => {\n                      handleOkay();\n                      history.push(`/igetcool/courses/${course.id}?${SECRET_QUERY_PARAM}`);\n                    }}\n                  />\n                </ListItem>\n              ))}\n          </List>\n        </Container>\n      </Dialog>\n    </>\n  );\n}\n","import { useMemo, useCallback } from 'react';\nimport { useGlobalState } from '@src/components';\n\n/**\n * @param {object} options\n * @param {CourseEntity} options.course\n * @param {SectionEntity[]} options.sectionList\n */\nexport function useCourseSection({ course, sectionList }) {\n  const [globalState, dispathAction] = useGlobalState();\n  const { selectedSectionIdMap } = globalState;\n\n  const selectedSectionId = useMemo(() => {\n    const courseId = course.id;\n\n    let sectionId = selectedSectionIdMap[courseId];\n    if (!sectionList.find(x => x.sectionPid === sectionId)) {\n      sectionId = 'all';\n    }\n\n    return sectionId;\n  }, [course, sectionList, selectedSectionIdMap]);\n\n  const updateSelectedSectionId = useCallback(\n    (/** @type {string} */ sectionId) => {\n      dispathAction({\n        type: 'updateSelectedSectionId',\n        payload: { courseId: course.id, sectionId },\n      });\n    },\n    [course, dispathAction],\n  );\n\n  return { selectedSectionId, updateSelectedSectionId };\n}\n","import { useMemo, useCallback } from 'react';\nimport { convertToEntityList } from '@src/lib';\nimport { useGlobalState } from '@src/components';\n\n/**\n * @param {object} options\n * @param {'igetcool' | 'vistopia'} options.platform\n * @param {EntityCollection<CourseEntity>} options.courseCollection\n */\nexport function useCourseKeyword({ platform, courseCollection }) {\n  const [globalState, dispathAction] = useGlobalState();\n  const { courseKeywordMap } = globalState;\n\n  const courseKeyword = useMemo(() => {\n    return String(courseKeywordMap[platform] || '').trim();\n  }, [platform, courseKeywordMap]);\n\n  const getCourseEntityList = useCallback(\n    (/** @type {string} */ keyword) => {\n      let entityList = convertToEntityList(courseCollection).sort((a, b) =>\n        b.id.localeCompare(a.id),\n      );\n\n      if (keyword) {\n        entityList = entityList.filter(x => x.title.includes(keyword) || x.brief.includes(keyword));\n      }\n\n      return entityList;\n    },\n    [courseCollection],\n  );\n\n  const updateCourseKeyword = useCallback(\n    (/** @type {string} */ keyword) => {\n      dispathAction({\n        type: 'updateCourseKeyword',\n        payload: { platform, keyword },\n      });\n    },\n    [platform, dispathAction],\n  );\n\n  return { courseKeyword, updateCourseKeyword, getCourseEntityList };\n}\n","import { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(() => ({\n  container: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n\n  content: {\n    padding: '16px !important',\n  },\n}));\n\nexport function HomePage() {\n  const classes = useStyles();\n\n  return (\n    <Container maxWidth=\"sm\" className={classes.container}>\n      <Card elevation={0}>\n        <CardContent className={classes.content}>\n          <Typography variant=\"caption\">\n            {'转变总是从结束开始，紧跟着经历了一段迷茫和痛苦之后，慢慢才会有新的开始。'}\n          </Typography>\n        </CardContent>\n      </Card>\n    </Container>\n  );\n}\n","import { createEntityCollection } from '@src/lib';\nimport courseList from '@src/data/igetcool/index.json';\n\n/** @type {EntityCollection<CourseEntity>} */\nexport const courseCollection = createEntityCollection(\n  courseList.filter(x => Boolean(x.id)),\n  x => x.id,\n);\n","import { useRef } from 'react';\nimport { useEffectOnce } from 'react-use';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport { SECRET_QUERY_PARAM } from '@src/configs/env';\n\nconst useStyles = makeStyles(theme => ({\n  media: {\n    minHeight: 150,\n    maxHeight: 300,\n  },\n  content: {\n    height: 54,\n    padding: '4px 8px !important',\n  },\n  title: {\n    fontSize: theme.typography.pxToRem(14),\n    fontWeight: theme.typography.fontWeightBold,\n    display: ' -webkit-box',\n    lineClamp: 2,\n    boxOrient: 'vertical',\n  },\n}));\n\n/**\n * @param {object} props\n * @param {CourseEntity} props.course\n */\nexport function CourseCard({ course }) {\n  const classes = useStyles();\n  const history = useHistory();\n  const imgRef = useRef(/** @type {HTMLImageElement} */ (null));\n\n  useEffectOnce(() => {\n    const io = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          const image = /** @type {HTMLImageElement} */ (entry.target);\n          image.src = course.poster;\n\n          io.unobserve(entry.target);\n          io.disconnect();\n        }\n      },\n      { rootMargin: '0px' },\n    );\n\n    io.observe(imgRef.current);\n\n    return () => {\n      io.disconnect();\n    };\n  });\n\n  return (\n    <Card elevation={1}>\n      <CardActionArea\n        onClick={() => {\n          history.push(`/igetcool/courses/${course.id}?${SECRET_QUERY_PARAM}`);\n        }}\n      >\n        <CardMedia\n          ref={imgRef}\n          component=\"img\"\n          /** lazy load */\n          image={''}\n          className={classes.media}\n          referrerPolicy=\"no-referrer\"\n        />\n        <CardContent className={classes.content}>\n          <Typography variant=\"caption\" component=\"div\" className={classes.title}>\n            {course.title}\n          </Typography>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n}\n","import { useMemo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { courseCollection } from '@src/configs/courses/igetcool';\nimport { useCourseKeyword } from '@src/hooks';\nimport { CourseCard } from './CourseCard';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n  },\n  noResult: {\n    textAlign: 'center',\n    marginTop: theme.spacing(2),\n  },\n}));\n\nexport function CourseList() {\n  const classes = useStyles();\n  const { courseKeyword, getCourseEntityList } = useCourseKeyword({\n    platform: 'igetcool',\n    courseCollection,\n  });\n\n  const courseEntityList = useMemo(() => getCourseEntityList(courseKeyword), [\n    courseKeyword,\n    getCourseEntityList,\n  ]);\n\n  return (\n    <Grid container spacing={1} alignItems=\"stretch\" className={classes.root}>\n      {courseEntityList.length === 0 && (\n        <Grid item xs={12}>\n          <Typography\n            variant=\"inherit\"\n            component=\"div\"\n            color=\"textSecondary\"\n            className={classes.noResult}\n          >\n            {'未搜索到课程'}\n          </Typography>\n        </Grid>\n      )}\n      {courseEntityList.length > 0 && (\n        <>\n          {courseEntityList.map(course => (\n            <Grid key={course.id} item xs={4} sm={3} md={3}>\n              <CourseCard course={course} />\n            </Grid>\n          ))}\n        </>\n      )}\n    </Grid>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\nimport { useMount, useUpdateEffect, useWindowScroll } from 'react-use';\nimport { IGETCOOL_DEFAULT_TITLE } from '@src/configs/env';\nimport { courseCollection } from '@src/configs/courses/igetcool';\nimport Container from '@material-ui/core/Container';\nimport { useDocumentTitle } from '@src/hooks';\nimport { TitleBar, CourseSearch } from '@src/components';\nimport { CourseList } from './CourseList';\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    paddingLeft: '8px',\n    paddingRight: '8px',\n  },\n  actionIcon: {\n    marginRight: theme.spacing(2),\n  },\n}));\n\nlet pageScrollTop = 0;\n\nexport function IndexPage() {\n  const classes = useStyles();\n  const { y } = useWindowScroll();\n\n  useDocumentTitle(IGETCOOL_DEFAULT_TITLE);\n\n  useUpdateEffect(() => {\n    pageScrollTop = y;\n  }, [y]);\n\n  useMount(() => {\n    document.documentElement.scrollTop = pageScrollTop;\n  });\n\n  return (\n    <>\n      <TitleBar\n        title={IGETCOOL_DEFAULT_TITLE}\n        actions={\n          <div className={classes.actionIcon}>\n            <CourseSearch platform=\"igetcool\" courseCollection={courseCollection} />\n          </div>\n        }\n      />\n      <Container maxWidth=\"md\" className={classes.container}>\n        <CourseList />\n      </Container>\n    </>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n  heading: {\n    'margin-top': theme.spacing(1),\n    'margin-bottom': theme.spacing(1),\n    '& > h6': {\n      'font-weight': 'bold',\n    },\n  },\n}));\n\n/**\n * @param {object} props\n * @param {CourseEntity} props.course\n */\nexport function Heading({ course }) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.heading}>\n      <Typography variant=\"h6\" display=\"block\">\n        {course.title}\n      </Typography>\n      <Typography variant=\"caption\" display=\"block\" color=\"textSecondary\">\n        {course.brief}\n      </Typography>\n    </div>\n  );\n}\n","import { useState, useMemo, useCallback, useEffect, useRef } from 'react';\nimport { useUpdateEffect } from 'react-use';\nimport Sound from 'react-sound';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardActions from '@material-ui/core/CardActions';\nimport Divider from '@material-ui/core/Divider';\nimport Link from '@material-ui/core/Link';\nimport IconButton from '@material-ui/core/IconButton';\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport FastRewindIcon from '@material-ui/icons/FastRewind';\nimport FastForwardIcon from '@material-ui/icons/FastForward';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useSecret } from '@src/hooks';\nimport { moment, scrollIntoView } from '@src/lib';\nimport { EE } from '@src/utils';\nimport { useGlobalState } from '@src/components';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: 'relative',\n  },\n  header: {\n    paddingTop: 12,\n    paddingBottom: 0,\n  },\n  title: {\n    fontSize: theme.typography.pxToRem(14),\n    fontWeight: theme.typography.fontWeightBold,\n  },\n  buffer: {\n    position: 'absolute',\n    height: '100%',\n    left: 0,\n    top: 0,\n    transition: 'width 200ms ease-out',\n    opacity: 0.1,\n    background: theme.palette.secondary.main,\n  },\n  progress: {\n    position: 'absolute',\n    height: '100%',\n    left: 0,\n    top: 0,\n    transition: 'width 200ms ease-out',\n    opacity: 0.15,\n    background: theme.palette.secondary.main,\n  },\n  duration: {\n    position: 'absolute',\n    top: '50%',\n    transform: 'translateY(-50%)',\n    right: 12,\n  },\n  action: {\n    position: 'relative',\n    height: 38,\n    paddingTop: 4,\n    paddingBottom: 4,\n  },\n}));\n\n/**\n * @param {object} props\n * @param {AudioEntity} props.audio\n */\nexport function AudioCard({ audio }) {\n  const rootRef = useRef(/** @type {HTMLElement} */ (null));\n  const classes = useStyles();\n  const [globalState, dispathAction] = useGlobalState();\n\n  const { playingMediaId } = globalState;\n  const { knowSecret } = useSecret();\n\n  const [playStatus, setPlayStatus] = useState(/** @type {SoundPlayStatus} */ ('STOPPED'));\n  const [finished, setFinished] = useState(false);\n\n  const [byteLoaded, setBytesLoaded] = useState(0);\n  const [bytesTotal, setBytesTotal] = useState(0);\n  const [waitBuffer, setWaitBuffer] = useState(false);\n\n  const [position, setPosition] = useState(0);\n  const [duration, setDuration] = useState(audio.audioDuration * 1000 || 0);\n\n  const bufferPercent = useMemo(() => {\n    if (!bytesTotal) {\n      return 0;\n    }\n    return (100 * byteLoaded) / bytesTotal;\n  }, [byteLoaded, bytesTotal]);\n\n  const progressPercent = useMemo(() => {\n    if (!duration) {\n      return 0;\n    }\n    return finished ? 100 : (100 * position) / duration;\n  }, [finished, position, duration]);\n\n  const remainDuration = useMemo(() => {\n    if (!duration) {\n      return '--:--';\n    }\n\n    const remain = moment.duration(finished ? 0 : Math.max(0, duration - position));\n    const parts = [remain.minutes(), remain.seconds()];\n    if (remain.hours() > 0) {\n      parts.unshift(remain.hours());\n    }\n    return parts.map(x => String(x).padStart(2, '0')).join(':');\n  }, [finished, position, duration]);\n\n  const updatePosition = useCallback(({ position }) => {\n    setPosition(position);\n  }, []);\n\n  // 广播当前正在播放的音频\n  const notifyPlayAudio = useCallback(() => {\n    dispathAction({ type: 'switchPlayingMediaId', payload: { id: audio.audioPid } });\n  }, [audio, dispathAction]);\n\n  const notifyPauseAudio = useCallback(() => {\n    dispathAction({ type: 'switchPlayingMediaId', payload: { id: null } });\n  }, [dispathAction]);\n\n  // 音频互斥播放\n  useUpdateEffect(() => {\n    if (audio.audioPid === playingMediaId) {\n      if (playStatus !== 'PLAYING') {\n        setPlayStatus('PLAYING');\n      }\n    } else {\n      if (playStatus === 'PLAYING') {\n        setPlayStatus('PAUSED');\n      }\n    }\n  }, [audio, playStatus, playingMediaId]);\n\n  // 播放下一个音频\n  useEffect(() => {\n    const playNextAudio = ({ id }) => {\n      if (id === audio.audioPid) {\n        if (finished) {\n          setFinished(false);\n          setPosition(0);\n        }\n\n        notifyPlayAudio();\n\n        scrollIntoView(rootRef.current, {\n          scrollMode: 'if-needed',\n          block: 'nearest',\n          inline: 'nearest',\n          behavior: 'smooth',\n        });\n      }\n    };\n\n    EE.on('replyNextPlayingMediaId', playNextAudio);\n\n    return () => {\n      EE.off('replyNextPlayingMediaId', playNextAudio);\n    };\n  }, [audio, finished, notifyPlayAudio]);\n\n  // 快退\n  const doFastRewind = useCallback(() => {\n    if (progressPercent >= 100) {\n      setPosition(0);\n    } else {\n      // -10%\n      const newProgressPercent = Math.max(0, progressPercent - 10);\n      setPosition((duration * newProgressPercent) / 100);\n    }\n\n    if (finished) {\n      setFinished(false);\n    }\n    if (!playingMediaId) {\n      setPlayStatus('PLAYING');\n    }\n    notifyPlayAudio();\n  }, [finished, duration, progressPercent, notifyPlayAudio, playingMediaId]);\n\n  // 快进\n  const doFastForward = useCallback(() => {\n    if (progressPercent >= 100) {\n      setPosition(0);\n    } else {\n      // +10%\n      const newProgressPercent = Math.min(progressPercent + 10, 100);\n      setPosition(Math.min((duration * newProgressPercent) / 100, duration));\n    }\n\n    if (finished) {\n      setFinished(false);\n    }\n    if (!playingMediaId) {\n      setPlayStatus('PLAYING');\n    }\n    notifyPlayAudio();\n  }, [finished, duration, progressPercent, notifyPlayAudio, playingMediaId]);\n\n  useUpdateEffect(() => {\n    if (playStatus === 'PLAYING') {\n      if (\n        progressPercent === 0 ||\n        (bufferPercent > 0 && bufferPercent < 100 && progressPercent === bufferPercent)\n      ) {\n        setWaitBuffer(true);\n      } else {\n        setWaitBuffer(false);\n      }\n    } else {\n      setWaitBuffer(false);\n    }\n  }, [playStatus, progressPercent, bufferPercent]);\n\n  return (\n    <>\n      <Card ref={rootRef} elevation={0} square className={classes.root}>\n        <Divider />\n        <div\n          className={classes.buffer}\n          style={{ width: `${Math.max(progressPercent, bufferPercent)}%` }}\n        />\n        <div className={classes.progress} style={{ width: `${progressPercent}%` }} />\n        <CardHeader\n          className={classes.header}\n          action={\n            knowSecret && (\n              <Link href={audio.audioArticleUrl} target=\"_blank\" rel=\"noreferrer\">\n                <IconButton size=\"small\">\n                  <DescriptionOutlinedIcon />\n                </IconButton>\n              </Link>\n            )\n          }\n          title={\n            <Typography variant=\"h6\" color=\"textSecondary\" className={classes.title}>\n              {audio.audioTitle}\n            </Typography>\n          }\n        />\n\n        <CardActions className={classes.action}>\n          <IconButton\n            size=\"small\"\n            onClick={() => {\n              if (playStatus === 'PLAYING') {\n                notifyPauseAudio();\n              } else {\n                if (finished) {\n                  setFinished(false);\n                  setPosition(0);\n                }\n                if (!playingMediaId) {\n                  setPlayStatus('PLAYING');\n                }\n                notifyPlayAudio();\n              }\n            }}\n          >\n            {playStatus === 'PLAYING' && (\n              <>\n                {waitBuffer && <CircularProgress size={24} color=\"secondary\" disableShrink />}\n                {!waitBuffer && <PauseIcon fontSize=\"default\" color=\"action\" />}\n              </>\n            )}\n            {playStatus !== 'PLAYING' && (\n              <>\n                {finished && <ReplayIcon fontSize=\"default\" color=\"action\" />}\n                {!finished && <PlayArrowIcon fontSize=\"default\" color=\"action\" />}\n              </>\n            )}\n          </IconButton>\n          <div />\n          <IconButton size=\"small\" onClick={doFastRewind}>\n            <FastRewindIcon fontSize=\"small\" color=\"action\" />\n          </IconButton>\n          <IconButton size=\"small\" onClick={doFastForward}>\n            <FastForwardIcon fontSize=\"small\" color=\"action\" />\n          </IconButton>\n          <Typography\n            variant=\"inherit\"\n            display=\"block\"\n            noWrap\n            color=\"textSecondary\"\n            className={classes.duration}\n          >\n            {remainDuration}\n          </Typography>\n        </CardActions>\n      </Card>\n      <Sound\n        url={audio.audioUrl}\n        playStatus={playStatus}\n        autoLoad={false}\n        loop={false}\n        playbackRate={globalState.playbackRate}\n        position={position}\n        onLoading={info => {\n          setBytesLoaded(\n            Math.min((info.bytesTotal * progressPercent) / 100 + info.bytesLoaded, info.bytesTotal),\n          );\n          setBytesTotal(info.bytesTotal);\n          setDuration(duration ? Math.min(duration, info.duration) : info.duration);\n        }}\n        onPlaying={updatePosition}\n        onFinishedPlaying={() => {\n          setPlayStatus('STOPPED');\n          setFinished(true);\n          EE.emit('requestNextPlayingMediaId');\n        }}\n        onError={({ errorCode, description }) => {\n          console.log('error', { errorCode, description });\n        }}\n      />\n    </>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { AudioCard } from './AudioCard';\n\nconst useStyles = makeStyles(theme => ({\n  summary: {\n    'cursor': 'default !important',\n    'minHeight': 'auto !important',\n    'margin': '0 8px !important',\n    'padding': '0 4px',\n\n    '& > .Mui-expanded': {\n      margin: '10px 0',\n    },\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(14),\n    fontWeight: theme.typography.fontWeightBold,\n    borderLeft: `3px solid ${theme.palette.secondary.main}`,\n    paddingLeft: 8,\n  },\n  details: {\n    padding: 0,\n  },\n}));\n\n/**\n * @param {object} props\n * @param {SectionEntity} props.section\n */\nexport function Section({ section }) {\n  const classes = useStyles();\n\n  return (\n    <Accordion expanded={true} elevation={1} square>\n      {section.sectionTitle !== '-1' && (\n        <AccordionSummary className={classes.summary}>\n          <Typography className={classes.heading}>{section.sectionTitle}</Typography>\n        </AccordionSummary>\n      )}\n      <AccordionDetails className={classes.details}>\n        <Grid container spacing={0}>\n          <Grid item xs={12} sm={12}>\n            {section.list.map(audio => (\n              <AudioCard key={audio.audioPid} audio={audio} />\n            ))}\n          </Grid>\n        </Grid>\n      </AccordionDetails>\n    </Accordion>\n  );\n}\n","import { useMemo, useEffect, useCallback } from 'react';\nimport { useMount, useUnmount, useUpdateEffect } from 'react-use';\nimport { soundManager } from 'soundmanager2';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { EE } from '@src/utils';\nimport { useGlobalState } from '@src/components';\nimport { useCourseSection } from '@src/hooks';\nimport { Section } from './Section';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n}));\n\n/**\n * @param {object} props\n * @param {CourseEntity} props.course\n * @param {SectionEntity[]} props.sectionList\n */\nexport function SectionList({ course, sectionList }) {\n  const classes = useStyles();\n  const [globalState, dispathAction] = useGlobalState();\n  const { selectedSectionId } = useCourseSection({ course, sectionList });\n  const { playingMediaId } = globalState;\n\n  useMount(() => {\n    // @see https://github.com/leoasis/react-sound\n    soundManager.setup({ ignoreMobileRestrictions: true });\n  });\n\n  useUnmount(() => {\n    dispathAction({ type: 'switchPlayingMediaId', payload: { id: null } });\n  });\n\n  const filteredSectionList = useMemo(() => {\n    if (selectedSectionId === 'all') {\n      return sectionList;\n    }\n    return sectionList.filter(x => x.sectionPid === selectedSectionId);\n  }, [sectionList, selectedSectionId]);\n\n  const audioList = useMemo(() => {\n    return filteredSectionList.map(section => section.list).flat();\n  }, [filteredSectionList]);\n\n  const replyNextPlayingMediaId = useCallback(() => {\n    const currentIndex = audioList.findIndex(x => x.audioPid === playingMediaId);\n\n    // 没有下一音频\n    if (currentIndex + 1 >= audioList.length) {\n      dispathAction({ type: 'switchPlayingMediaId', payload: { id: null } });\n      return;\n    }\n\n    const nextPlayingMediaId = audioList[currentIndex + 1]?.audioPid;\n    EE.emit('replyNextPlayingMediaId', { id: nextPlayingMediaId });\n  }, [playingMediaId, dispathAction, audioList]);\n\n  useUpdateEffect(() => {\n    if (playingMediaId === null) {\n      return;\n    }\n    if (!audioList.find(x => x.audioPid === playingMediaId)) {\n      dispathAction({ type: 'switchPlayingMediaId', payload: { id: null } });\n    }\n  }, [playingMediaId, audioList, dispathAction]);\n\n  useEffect(() => {\n    EE.on('requestNextPlayingMediaId', replyNextPlayingMediaId);\n\n    return () => {\n      EE.off('requestNextPlayingMediaId', replyNextPlayingMediaId);\n    };\n  }, [replyNextPlayingMediaId]);\n\n  return (\n    <div className={classes.root}>\n      {filteredSectionList.map(section => (\n        <Section key={section.sectionPid} section={section} />\n      ))}\n    </div>\n  );\n}\n","import { useState, useCallback, useRef, useMemo } from 'react';\nimport { useMount } from 'react-use';\nimport { Redirect, useParams, useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Divider from '@material-ui/core/Divider';\nimport { IGETCOOL_DEFAULT_TITLE } from '@src/configs/env';\nimport { courseCollection } from '@src/configs/courses/igetcool';\nimport { delay } from '@src/lib';\nimport { useDocumentTitle, useSecret } from '@src/hooks';\nimport { TitleBar, Loading, SectionSelect, PlaybackRateSwitch } from '@src/components';\nimport { Heading } from './Heading';\nimport { SectionList } from './SectionList';\n\nconst { entities: courseEntities } = courseCollection;\n\nconst useStyles = makeStyles(theme => ({\n  actionIcon: {\n    marginRight: theme.spacing(2),\n  },\n}));\n\nexport function DetailPage() {\n  const classes = useStyles();\n  const history = useHistory();\n  const { knowSecret } = useSecret();\n\n  // @ts-ignore\n  const { courseId } = useParams();\n\n  const tryCountRef = useRef(0);\n  const [fetchStatus, setFetchStatus] = useState(/** @type {LoadingState} */ ('none'));\n  const [sectionList, setSectionList] = useState(/** @type {SectionEntity[]} */ ([]));\n\n  const fetchSectionList = useCallback(async () => {\n    try {\n      if (!courseEntities[courseId]) {\n        setFetchStatus('failed');\n        return;\n      }\n\n      setFetchStatus('loading');\n      tryCountRef.current += 1;\n      const { default: sectionList } = await import(`@src/data/igetcool/courses/${courseId}.json`);\n\n      setSectionList(sectionList);\n      setFetchStatus('loaded');\n    } catch (err) {\n      if (tryCountRef.current >= 10) {\n        setFetchStatus('failed');\n      } else {\n        await delay(200);\n        fetchSectionList();\n      }\n    }\n  }, [courseId]);\n\n  const sectionEntityList = useMemo(() => {\n    if (sectionList.length <= 1) {\n      return [];\n    }\n\n    /** @type {SectionEntity[]} */\n    const entityList = [];\n\n    let total = 0;\n    for (const entity of sectionList) {\n      entityList.push({\n        ...entity,\n        sectionTitle: `${entity.sectionTitle} (${entity.list.length} 篇)`,\n      });\n\n      total += entity.list.length;\n    }\n\n    entityList.unshift({\n      sectionPid: 'all',\n      sectionTitle: `全部章节 (${total} 篇)`,\n      list: [],\n    });\n\n    return entityList;\n  }, [sectionList]);\n\n  useDocumentTitle(\n    [courseEntities[courseId]?.title, IGETCOOL_DEFAULT_TITLE].filter(Boolean).join(' - '),\n  );\n\n  useMount(fetchSectionList);\n\n  if (fetchStatus === 'failed') {\n    return <Redirect to={knowSecret ? '/igetcool/index' : '/'} />;\n  }\n\n  return (\n    <>\n      <TitleBar\n        title={IGETCOOL_DEFAULT_TITLE}\n        course={courseEntities[courseId]}\n        goBack={() => {\n          history.replace('/igetcool/index');\n        }}\n        actions={\n          <>\n            {sectionEntityList.length > 0 && (\n              <div className={classes.actionIcon}>\n                <SectionSelect\n                  course={courseEntities[courseId]}\n                  sectionEntityList={sectionEntityList}\n                />\n              </div>\n            )}\n            <div className={classes.actionIcon}>\n              <PlaybackRateSwitch />\n            </div>\n          </>\n        }\n      />\n      <Container maxWidth=\"sm\">\n        {fetchStatus === 'loading' && <Loading />}\n        {fetchStatus === 'loaded' && (\n          <>\n            {Boolean(courseEntities[courseId]) && (\n              <>\n                <Heading course={courseEntities[courseId]} />\n                <Divider />\n                <SectionList course={courseEntities[courseId]} sectionList={sectionList} />\n              </>\n            )}\n          </>\n        )}\n      </Container>\n    </>\n  );\n}\n","import { useMemo } from 'react';\nimport { HashRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { useTheme } from '@src/hooks';\nimport { GlobalStateProvider } from '@src/components';\nimport { HomePage } from './routes/HomePage';\nimport { IndexPage as IGetCoolIndexPage } from './routes/igetcool/index';\nimport { DetailPage as IGetCoolDetailPage } from './routes/igetcool/detail';\n\nfunction App() {\n  const { theme: themeConfig } = useTheme();\n  const theme = useMemo(() => createMuiTheme(themeConfig), [themeConfig]);\n\n  return (\n    <GlobalStateProvider>\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <Router>\n          <Switch>\n            <Route strict exact path=\"/\">\n              <HomePage />\n            </Route>\n            <Route strict exact path=\"/igetcool/index\">\n              <IGetCoolIndexPage />\n            </Route>\n            <Route strict exact path=\"/igetcool/courses/:courseId\">\n              <IGetCoolDetailPage />\n            </Route>\n            <Redirect to=\"/\" />\n          </Switch>\n        </Router>\n      </ThemeProvider>\n    </GlobalStateProvider>\n  );\n}\n\nexport { App };\n","import { useCallback, useState, useEffect } from 'react';\nimport { EE, localStore } from '@src/utils';\nimport { THEME_TYPE_STORED_KEY, getThemeConfig } from '@src/configs/theme';\n\nexport function useTheme() {\n  const [theme, setTheme] = useState(() => {\n    // get initial theme type\n    let type = localStore.get(THEME_TYPE_STORED_KEY);\n    if (!['light', 'dark'].includes(type)) {\n      type = 'light';\n    }\n\n    return getThemeConfig(type);\n  });\n\n  const toggleTheme = useCallback(() => {\n    const { type } = theme.palette;\n    const nextType = type === 'light' ? 'dark' : 'light';\n\n    // switch theme type\n    setTheme(getThemeConfig(nextType));\n\n    // remeber theme type\n    localStore.set(THEME_TYPE_STORED_KEY, nextType);\n  }, [theme, setTheme]);\n\n  useEffect(() => {\n    EE.on('toggle-theme', toggleTheme);\n    return () => EE.off('toggle-theme', toggleTheme);\n  }, [toggleTheme]);\n\n  return { theme, toggleTheme };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","export * from './dateFormat';\nexport * from './delay';\nexport * from './entity';\nexport * from './marked';\nexport * from './moment';\nexport * from './prettyBytes';\nexport * from './scrollIntoView';\n","import dateFormat from 'dateformat';\n\nexport { dateFormat };\n","export function delay(ms = 1000) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n","/**\n * 从数组创建一个 EntityCollection\n * @template T\n * @param {T[]} entityList 实体列表\n * @param {(t: T) => string} keySelector 提供一个函数，确定数组的每个元素如何确定其标识\n * @returns {EntityCollection<T>}\n */\nfunction createEntityCollection(entityList, keySelector) {\n  return {\n    list: entityList.map(t => keySelector(t)),\n    entities: entityList.reduce((ret, item) => {\n      ret[keySelector(item)] = item;\n      return ret;\n    }, {}),\n  };\n}\n\n/**\n * 将 EntityCollection 集合转换为普通数组\n * @template T\n * @param {EntityCollection<T>} collection\n * @returns {T[]}\n */\nfunction convertToEntityList(collection) {\n  return collection.list.map(key => collection.entities[key]);\n}\n\nmodule.exports = { createEntityCollection, convertToEntityList };\n","import marked from 'marked';\n\nexport { marked };\n","import moment from 'moment';\n\nexport { moment };\n"],"sourceRoot":""}